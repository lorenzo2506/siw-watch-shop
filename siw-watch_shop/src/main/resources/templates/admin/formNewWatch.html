<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{fragments/layout :: base(~{::title}, ~{::main})}">
<head>
    <title>Aggiungi Nuovo Orologio - TimeCraft Admin</title>
</head>
<body>
    <main>
        <div class="admin-form-container">
            
            <!-- Header della form -->
            <div class="admin-form-header">
                <h1>Aggiungi Nuovo Orologio</h1>
                <p>Completa tutti i campi richiesti per aggiungere un nuovo orologio alla collezione TimeCraft</p>
            </div>

            <!-- Form principale -->
            <form th:action="@{/watch}" method="post" enctype="multipart/form-data" th:object="${watch}" class="admin-form">
                
                <div class="form-grid">
                    
                    <!-- Nome orologio -->
                    <div class="form-group">
                        <label for="name" class="required">Nome Orologio</label>
                        <input type="text" 
                               id="name" 
                               th:field="*{name}" 
                               class="form-control"
                               th:class="${#fields.hasErrors('name')} ? 'form-control error' : 'form-control'"
                               placeholder="es. Submariner, Speedmaster..."
                               maxlength="100">
                        <div th:if="${#fields.hasErrors('name')}" class="error-message">
                            <span th:errors="*{name}">Errore nome</span>
                        </div>
                    </div>

                    <!-- Brand -->
                    <div class="form-group">
                        <label for="brand" class="required">Brand</label>
                        <input type="text" 
                               id="brand" 
                               th:field="*{brand}" 
                               class="form-control"
                               th:class="${#fields.hasErrors('brand')} ? 'form-control error' : 'form-control'"
                               placeholder="es. Rolex, Omega, Casio..."
                               maxlength="50">
                        <div th:if="${#fields.hasErrors('brand')}" class="error-message">
                            <span th:errors="*{brand}">Errore brand</span>
                        </div>
                    </div>

                    <!-- Prezzo -->
                    <div class="form-group">
                        <label for="price" class="required">Prezzo (‚Ç¨)</label>
                        <input type="number" 
                               id="price" 
                               th:field="*{price}" 
                               class="form-control"
                               th:class="${#fields.hasErrors('price')} ? 'form-control error' : 'form-control'"
                               placeholder="999.99"
                               min="0"
                               step="0.01">
                        <div th:if="${#fields.hasErrors('price')}" class="error-message">
                            <span th:errors="*{price}">Errore prezzo</span>
                        </div>
                    </div>

                    <!-- Anno -->
                    <div class="form-group">
                        <label for="year" class="required">Anno di Produzione</label>
                        <input type="number" 
                               id="year" 
                               th:field="*{year}" 
                               class="form-control"
                               th:class="${#fields.hasErrors('year')} ? 'form-control error' : 'form-control'"
                               placeholder="2024"
                               min="1800"
                               max="2025">
                        <div th:if="${#fields.hasErrors('year')}" class="error-message">
                            <span th:errors="*{year}">Errore anno</span>
                        </div>
                    </div>

                    <!-- Stock -->
                    <div class="form-group">
                        <label for="stock">Quantit√† in Stock</label>
                        <input type="number" 
                               id="stock" 
                               th:field="*{stock}" 
                               class="form-control"
                               th:class="${#fields.hasErrors('stock')} ? 'form-control error' : 'form-control'"
                               placeholder="10"
                               min="0">
                        <div th:if="${#fields.hasErrors('stock')}" class="error-message">
                            <span th:errors="*{stock}">Errore stock</span>
                        </div>
                        <small class="form-help">Lascia vuoto o 0 se non disponibile</small>
                    </div>

                    <!-- Immagine -->
                    <div class="form-group">
                        <label for="imageFile" class="required">Immagine Orologio</label>
                        <div class="file-upload-wrapper">
                            <input type="file" 
                                   id="imageFile" 
                                   name="imageFile" 
                                   class="form-control file-input"
                                   accept="image/jpeg,image/png,image/gif,image/webp"
                                   required>
                            <div class="file-upload-info">
                                <span class="upload-icon">üì∑</span>
                                <span class="upload-text">Seleziona immagine...</span>
                                <span class="file-requirements">
                                    Formati supportati: JPEG, PNG, GIF, WebP<br>
                                    Dimensione massima: 5MB
                                </span>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Descrizione (full width) -->
                <div class="form-group form-group-full">
                    <label for="description">Descrizione Dettagliata</label>
                    <textarea id="description" 
                              th:field="*{description}" 
                              class="form-control"
                              th:class="${#fields.hasErrors('description')} ? 'form-control error' : 'form-control'"
                              placeholder="Descrizione completa dell'orologio, caratteristiche tecniche, materiali utilizzati, storia del modello..."
                              rows="4"
                              maxlength="1000"></textarea>
                    <div th:if="${#fields.hasErrors('description')}" class="error-message">
                        <span th:errors="*{description}">Errore descrizione</span>
                    </div>
                    <small class="form-help">Massimo 1000 caratteri - Descrivi le caratteristiche uniche del prodotto</small>
                </div>

                <!-- Availability checkbox -->
                <div class="form-group form-group-full">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" 
                               id="availability" 
                               th:field="*{availability}" 
                               class="form-checkbox"
                               checked>
                        <label for="availability" class="checkbox-label">
                            <span class="checkbox-custom"></span>
                            Orologio disponibile per la vendita
                        </label>
                    </div>
                    <small class="form-help">Disabilita se l'orologio non deve essere visibile nel catalogo pubblico</small>
                </div>

                <!-- Pulsanti azione -->
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">‚úì</span>
                        Aggiungi Orologio
                    </button>
                    
                    <a th:href="@{/admin/watches}" class="btn btn-secondary">
                        <span class="btn-icon">‚Üê</span>
                        Torna Indietro
                    </a>
                    
                    <button type="reset" class="btn btn-outline">
                        <span class="btn-icon">‚ü≤</span>
                        Reset Form
                    </button>
                </div>

            </form>

            <!-- Info aggiuntive -->
            <div class="form-footer">
                <div class="info-cards">
                    <div class="info-card">
                        <h4>üìã Campi Obbligatori</h4>
                        <p>Nome, Brand, Prezzo, Anno e Immagine sono necessari per pubblicare l'orologio nel catalogo.</p>
                    </div>
                    
                    <div class="info-card">
                        <h4>üñºÔ∏è Immagini di Qualit√†</h4>
                        <p>Usa immagini ad alta risoluzione per una presentazione ottimale. Formato consigliato: 800x800px minimo.</p>
                    </div>
                    
                    <div class="info-card">
                        <h4>üì¶ Gestione Stock</h4>
                        <p>Gli orologi con stock = 0 appariranno come "Esaurito" ma rimarranno visibili nel catalogo.</p>
                    </div>
                </div>
            </div>

        </div>
    </main>
</body>
</html>