<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout.html :: base('Login - WatchLux', ~{::contenuto})">
<head>
    <title>Login - WatchLux</title>
</head>
<body>
    <!-- Contenuto specifico del login -->
    <div th:fragment="contenuto">
        <section class="form-container">
            <div class="form-wrapper">
                <h1 class="form-title">
                    <i class="material-icons">person</i>
                    Accedi a WatchLux
                </h1>
                
                <!-- Messaggi di stato -->
                <div th:if="${registrationSuccess}" class="success-message">
                    <i class="material-icons">check_circle</i>
                    <span th:text="${registrationSuccess}">Registrazione completata!</span>
                </div>
                
                <div th:if="${errorMessage}" class="error-message">
                    <i class="material-icons">error</i>
                    <span th:text="${errorMessage}">Errore di login</span>
                </div>
                
                <div th:if="${logoutMessage}" class="info-message">
                    <i class="material-icons">info</i>
                    <span th:text="${logoutMessage}">Logout effettuato</span>
                </div>
                
                
                
                
                <div style="text-align: center; margin-bottom: 2rem;">
                    <a th:href="@{/oauth2/authorization/google}" style="display: inline-flex; align-items: center; gap: 0.75rem; background: linear-gradient(135deg, #4285f4, #3367d6); color: white; padding: 1rem 2rem; border-radius: 50px; text-decoration: none; font-weight: 600; font-size: 1rem; box-shadow: 0 4px 15px rgba(66,133,244,0.3); transition: all 0.2s; width: 100%; justify-content: center; max-width: 280px;">
                        <span style="font-size: 1.2rem;">ðŸ”—</span>
                        Continua con Google
                    </a>
                </div>
                
                <!-- Separatore -->
                <div style="display: flex; align-items: center; margin: 2rem 0; gap: 1rem;">
                    <div style="flex: 1; height: 1px; background: #e5e7eb;"></div>
                    <span style="color: #6b7280; font-size: 0.9rem; font-weight: 500;">oppure</span>
                    <div style="flex: 1; height: 1px; background: #e5e7eb;"></div>
                </div>
                
                
                <!-- Traditional Login Form -->
                <form th:action="@{/login}" method="post" class="luxury-form">
                    <div class="form-group">
                        <label for="username" class="form-label">
                            <i class="material-icons">person</i>
                            Username o Email
                        </label>
                        <input type="text" 
                               name="username" 
                               id="username" 
                               class="form-input" 
                               placeholder="Il tuo username o email"
                               required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password" class="form-label">
                            <i class="material-icons">lock</i>
                            Password
                        </label>
                        <input type="password" 
                               name="password" 
                               id="password" 
                               class="form-input" 
                               placeholder="La tua password"
                               required>
                    </div>
                    
                    <button type="submit" class="btn-primary">
                        <i class="material-icons">login</i>
                        Accedi
                    </button>
                </form>
                
                <div style="display: flex; align-items: center; margin: 2rem 0; gap: 1rem;">
                    <div style="flex: 1; height: 1px; background: #e5e7eb;"></div>
                    <span style="color: #6b7280; font-size: 0.9rem; font-weight: 500;">oppure</span>
                    <div style="flex: 1; height: 1px; background: #e5e7eb;"></div>
                </div>
                
                <!-- Register Link -->
                <div class="form-footer">
                    <span>Non hai un account?</span>
                    <a th:href="@{/register}" class="link-primary">
                        <i class="material-icons">person_add</i>
                               Registrati qui
                    </a>
                </div>
                
                
            </div>
        </section>
    </div>
</body>
</html>