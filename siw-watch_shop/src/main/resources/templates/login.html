<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout.html :: base('Login - WatchLux', ~{::contenuto})">
<head>
    <title>Login - WatchLux</title>
</head>
<body>
    <!-- Contenuto specifico del login -->
    <div th:fragment="contenuto">
        <section class="form-container">
            <div class="form-wrapper">
                <h1 class="form-title">
                    <i class="material-icons">person</i>
                    Accedi a WatchLux
                </h1>
                
                <!-- Messaggi di stato -->
                <div th:if="${registrationSuccess}" class="success-message">
                    <i class="material-icons">check_circle</i>
                    <span th:text="${registrationSuccess}">Registrazione completata!</span>
                </div>
                
                <div th:if="${errorMessage}" class="error-message">
                    <i class="material-icons">error</i>
                    <span th:text="${errorMessage}">Errore di login</span>
                </div>
                
                <div th:if="${logoutMessage}" class="info-message">
                    <i class="material-icons">info</i>
                    <span th:text="${logoutMessage}">Logout effettuato</span>
                </div>
                
                <!-- OAuth2 Login Section -->
                <div class="oauth-section">
                    <a th:href="@{/oauth2/authorization/google}" class="btn-google">
                        <i class="material-icons">account_circle</i>
                        <span>Continua con Google</span>
                    </a>
                </div>
                
                <!-- Divider -->
                <div class="divider">
                    <span>oppure</span>
                </div>
                
                <!-- Traditional Login Form -->
                <form th:action="@{/login}" method="post" class="luxury-form">
                    <div class="form-group">
                        <label for="username" class="form-label">
                            <i class="material-icons">person</i>
                            Username o Email
                        </label>
                        <input type="text" 
                               name="username" 
                               id="username" 
                               class="form-input" 
                               placeholder="Il tuo username o email"
                               required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password" class="form-label">
                            <i class="material-icons">lock</i>
                            Password
                        </label>
                        <input type="password" 
                               name="password" 
                               id="password" 
                               class="form-input" 
                               placeholder="La tua password"
                               required>
                    </div>
                    
                    <button type="submit" class="btn-primary">
                        <i class="material-icons">login</i>
                        Accedi
                    </button>
                </form>
                
                <!-- Register Link -->
                <div class="form-footer">
                    <p>Non hai un account?</p>
                    <a th:href="@{/register}" class="link-primary">
                        <i class="material-icons">person_add</i>
                        Registrati qui
                    </a>
                </div>
                
                <!-- Back to Home -->
                <div class="form-actions">
                    <a th:href="@{/}" class="btn-secondary">
                        <i class="material-icons">arrow_back</i>
                        Torna alla Home
                    </a>
                </div>
            </div>
        </section>
    </div>
</body>
</html>